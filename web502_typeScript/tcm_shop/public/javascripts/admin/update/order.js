(()=>{"use strict";var t,e,n=function(t){return function(e){console.log(t,e)}},o=function(t,e){console.log("Main Class: ",t,"Selected Property: ",e)},a=function(t,e,n){console.log("Main Class: ",t,"Selected Method: ",e,"Method Descriptor: ",n)},r=function(t,e,n,o){var a,r=arguments.length,i=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(i=(r<3?a(i):r>3?a(e,n,i):a(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=function(){function t(t,e,n,o){this.selectElement=t,this.activeClass=e,this.selectOptionContainer=n,this.attributeList=o}return t.prototype.addOptionItem=function(t,e){void 0===e&&(e=[{key:String(),data:String()}]);var n=document.createElement("li");e.forEach((function(t){n.setAttribute(t.key,t.data)})),n.innerText=t,this.selectOptionContainer.appendChild(n)},t.prototype.createLabelPointer=function(t){var e=this;t.addEventListener("click",(function(){e.selectElement.focus()}))},t.prototype.createCustomSelect=function(t,e,n){var o=this;this.selectElement.setAttribute("tabindex","0");var a,r,i=function(t){t?o.selectElement.classList.add(o.activeClass):o.selectElement.classList.remove(o.activeClass)},c=function(t){s.forEach((function(t){t.removeAttribute(n)})),t.setAttribute(n,"")},s=this.selectElement.querySelectorAll("li"),u=0;o.selectElement.addEventListener("focus",(function(){i(!0),c(s[u])})),o.selectElement.addEventListener("focusout",(function(){i(!1)})),o.selectElement.addEventListener("mouseenter",(function(){i(!0),c(s[u])})),o.selectElement.addEventListener("mouseleave",(function(){i(!1)})),o.selectElement.addEventListener("click",(function(){i(a),a=!0})),o.selectElement.addEventListener("keydown",(function(t){"ArrowDown"===t.key?(u<s.length-1?u++:u=0,c(s[u])):"ArrowUp"===t.key?(u>0?u--:u=s.length-1,c(s[u])):"Enter"===t.key&&(o.selectElement.classList.contains(o.activeClass)?s[u].click():i(!0))})),r=function(t){o.attributeList.forEach((function(e){o.selectElement.setAttribute(e,t.getAttribute(e))})),e.innerHTML=t.innerHTML,a=!1},s.forEach((function(e,n){e.getAttribute("value")===t&&(r(e),a=!0,u=n,c(e)),e.addEventListener("click",(function(){r(e),u=n,c(e),i(!1)})),e.addEventListener("mouseenter",(function(){c(e)}))}))},r([o],t.prototype,"selectElement",void 0),r([o],t.prototype,"activeClass",void 0),r([o],t.prototype,"selectOptionContainer",void 0),r([o],t.prototype,"attributeList",void 0),r([a],t.prototype,"addOptionItem",null),r([a],t.prototype,"createLabelPointer",null),r([a],t.prototype,"createCustomSelect",null),r([n("Custom Select Creator")],t)}(),c=(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}),s=function(t,e,n,o){var a,r=arguments.length,i=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(i=(r<3?a(i):r>3?a(e,n,i):a(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},u=function(t,e){this.fetchLink=t,this.fetchMethod=e},l=function(t){function e(e){return t.call(this,"".concat(e,".json"),"GET")||this}return c(e,t),e.prototype.readData=function(t){fetch(this.fetchLink,{method:this.fetchMethod}).then((function(t){if(!t.ok)throw new Error("Error = "+t.status);return t.json()})).then((function(e){t(e)})).catch((function(t){console.log("error: "+t)}))},s([a],e.prototype,"readData",null),s([n("Data Reader")],e)}(u),d=(function(t){function e(e){return t.call(this,e,"DELETE")||this}c(e,t),e.prototype.deleteData=function(t,e){var n="".concat(this.fetchLink,"/").concat(t,".json");fetch(n,{method:this.fetchMethod}).then((function(t){if(!t.ok)throw new Error("error = "+t.status);return t.json()})).then((function(t){e(t)})).catch((function(t){console.log("error: "+t)}))},s([a],e.prototype,"deleteData",null),e=s([n("Data Deleter")],e)}(u),function(t){function e(e){return t.call(this,e,"POST")||this}c(e,t),e.prototype.addData=function(t,e,n){fetch("".concat(this.fetchLink,".json"),{method:this.fetchMethod,body:t}).then((function(t){if(!t.ok)throw n(),new Error("error = "+t.status);return t.json()})).then((function(){e()})).catch((function(t){console.log("error: "+t)}))},s([a],e.prototype,"addData",null),e=s([n("Data Adder")],e)}(u),function(t){function e(e){return t.call(this,e,"PUT")||this}return c(e,t),e.prototype.updateData=function(t,e,n,o){fetch("".concat(this.fetchLink+t,".json"),{method:this.fetchMethod,body:JSON.stringify(e)}).then((function(t){if(!t.ok)throw o(),new Error("error = "+t.status);return t.json()})).then((function(){n()})).catch((function(t){console.log("error: "+t)}))},s([a],e.prototype,"updateData",null),s([n("Data Updater")],e)}(u)),f=function(t,e,n,o){var a,r=arguments.length,i=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(i=(r<3?a(i):r>3?a(e,n,i):a(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},p=function(){function t(t,e,n,o){this.submitButton=t,this.hideMessageContainerClass=e,this.inputInvalidClass=n,this.inputValidClass=o,this.inputList=[],this.checkValidate=!1}return t.prototype.changeInputStatus=function(t,e,n){!0===n?(e.classList.add(this.hideMessageContainerClass),t.classList.remove(this.inputInvalidClass),t.classList.add(this.inputValidClass)):!1===n&&(e.classList.remove(this.hideMessageContainerClass),t.classList.remove(this.inputValidClass),t.classList.add(this.inputInvalidClass))},t.prototype.changeButtonStatus=function(){var t=this;this.checkValidate=!0,this.inputList.forEach((function(e){!1===e.classList.contains(t.inputValidClass)&&(t.checkValidate=!1)})),!0===this.checkValidate?this.submitButton.removeAttribute("disabled"):this.submitButton.setAttribute("disabled","")},t.prototype.addTextInputValidator=function(t,e,n,o,a,r,i){var c=this;this.inputList.push(t),t.addEventListener("change",(function(){t.value=t.value.trim();var s=t.value,u=!1;s.length<o?(n.innerHTML="The ".concat(e," must have more than ").concat(o," "),n.innerHTML+=1===o?"character":"characters"):s.length>a?(n.innerHTML="The ".concat(e," must have less than ").concat(a," "),n.innerHTML+=1===a?"character":"characters"):!1===r.test(s)?n.innerHTML=i:u=!0,c.changeInputStatus(t,n,u),c.changeButtonStatus()}))},t.prototype.addNumberInputValidator=function(t,e,n,o,a,r){var i=this;this.inputList.push(t),t.addEventListener("input",(function(){var c=Number(t.value),s=!1;isNaN(c)||""===t.value?n.innerHTML="The ".concat(e," must be a number"):c<o?n.innerHTML="The ".concat(e," must greater than ").concat(o):c>a?n.innerHTML="The ".concat(e," must lesser than ").concat(a):c/r%1!=0?n.innerHTML="The ".concat(e," step must be ").concat(r):s=!0,i.changeInputStatus(t,n,s),i.changeButtonStatus()}))},t.prototype.addFileInputValidator=function(t,e,n,o,a,r){var i=this;this.inputList.push(t);var c=1048576;t.addEventListener("change",(function(s){var u=!1,l=s.target.files[0],d=l.type,f=!1;if(o.forEach((function(t){d===t&&(f=!0)})),!1===f){var p="The ".concat(e," file extension must be a value in the list:");o.forEach((function(t){p+=" ".concat(t.split("/").pop().toUpperCase(),",")})),n.innerHTML=p.slice(0,-2)}else l.size<a*c?n.innerHTML="The ".concat(e," file size must greater than ").concat(a," MB"):l.size>r*c?n.innerHTML="The ".concat(e," file size must lesser than ").concat(r," MB"):u=!0;i.changeInputStatus(t,n,u),i.changeButtonStatus()}))},t.prototype.addDateInputValidator=function(t,e,n,o,a){var r=this;void 0===o&&(o={day:Number(),month:Number(),year:Number()}),void 0===a&&(a={day:Number(),month:Number(),year:Number()}),this.inputList.push(t);var i=new Date(o.year,o.month-1,o.day).getTime(),c=new Date(a.year,a.month-1,a.day).getTime(),s=function(){var s=t.value,u=!1;if(""===s)n.innerHTML="The ".concat(e," must be a valid date");else{var l=s.split(/\D/),d=Number(l[0]),f=Number(l[1])-1,p=Number(l[2]),h=new Date(d,f,p).getTime();if(h<i||d<100&&o.year>=100){var m="".concat(o.day,"/").concat(o.month,"/").concat(o.year);n.innerHTML="The ".concat(e," must greater than ").concat(m)}else if(h>c){var y="".concat(a.day,"/").concat(a.month,"/").concat(a.year);n.innerHTML="The ".concat(e," must lesser than ").concat(y)}else u=!0}r.changeInputStatus(t,n,u),r.changeButtonStatus()};t.addEventListener("blur",s),t.addEventListener("keypress",(function(t){"Enter"===t.key&&s()}))},t.prototype.addRetypeInputValidator=function(t,e,n,o,a){var r=this;this.inputList.push(n);var i,c=!1,s=function(){!1==(i=n.value===t.value)&&(a.innerHTML="The ".concat(o," must be like the ").concat(e)),r.changeInputStatus(n,a,i),r.changeButtonStatus()};t.addEventListener("change",(function(){!0===c&&s()})),n.addEventListener("change",(function(){c=!0,s()}))},t.prototype.checkDuplicateValidator=function(t,e,n,o,a,r,i){var c=this;void 0===a&&(a=Boolean()),void 0===r&&(r=Boolean()),void 0===i&&(i=Boolean()),t.setAttribute("data-duplicate",JSON.stringify(o));var s=function(o){var i,s=JSON.parse(t.dataset.duplicate);!0===r&&(o=o.toLowerCase(),s.forEach((function(t,e,n){n[e]=t.toLowerCase()}))),!0===a?(i=!1,s.forEach((function(t){o===t&&(i=!0)}))):!1===a&&(i=!0,s.forEach((function(t){o===t&&(i=!1)}))),!1===i&&!1===a?n.innerHTML="The ".concat(e," is exist"):!1===i&&!0===a&&(n.innerHTML="The ".concat(e," is not exist")),c.changeInputStatus(t,n,i),c.changeButtonStatus()};!1===i?(this.inputList.push(t),t.addEventListener("change",(function(){s(t.value)}))):t.addEventListener("change",(function(){t.classList.contains(c.inputValidClass)&&s(t.value)}))},t.prototype.changeDuplicateValue=function(t,e,n){var o=JSON.parse(t.dataset.duplicate);!0===n?o.push(e):o.splice(o.indexOf(e),1),t.setAttribute("data-duplicate",JSON.stringify(o))},t.prototype.createSubmitButtonEvent=function(t,e){var n=this;!0===e?this.submitButton.setAttribute("disabled","true"):(this.checkValidate=!0,this.inputList.forEach((function(t){t.classList.add(n.inputValidClass)}))),this.submitButton.addEventListener("click",(function(e){e.preventDefault(),!0===n.checkValidate&&t()}))},t.prototype.resetForm=function(t){var e=this;t.reset(),this.inputList.forEach((function(t){t.classList.remove(e.inputValidClass)})),this.changeButtonStatus()},f([o],t.prototype,"submitButton",void 0),f([o],t.prototype,"hideMessageContainerClass",void 0),f([o],t.prototype,"inputInvalidClass",void 0),f([o],t.prototype,"inputValidClass",void 0),f([o],t.prototype,"inputList",void 0),f([o],t.prototype,"checkValidate",void 0),f([a],t.prototype,"changeInputStatus",null),f([a],t.prototype,"changeButtonStatus",null),f([a],t.prototype,"addTextInputValidator",null),f([a],t.prototype,"addNumberInputValidator",null),f([a],t.prototype,"addFileInputValidator",null),f([a],t.prototype,"addDateInputValidator",null),f([a],t.prototype,"addRetypeInputValidator",null),f([a],t.prototype,"checkDuplicateValidator",null),f([a],t.prototype,"changeDuplicateValue",null),f([a],t.prototype,"createSubmitButtonEvent",null),f([a],t.prototype,"resetForm",null),f([n("Form Validator")],t)}(),h=function(t,e,n,o){var a,r=arguments.length,i=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(i=(r<3?a(i):r>3?a(e,n,i):a(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},m=function(){function t(t,e,n,o){this.verticalAlign=t,this.verticalOffset=e,this.horizontalAlign=n,this.horizontalOffset=o}return t.prototype.createToast=function(t,e,n){var o,a=this,r=document.body,i="toast-".concat(t);switch(t){case"success":o='<i class="fa-solid fa-check"></i>';break;case"danger":o='<i class="fa-solid fa-xmark"></i>';break;case"warning":o='<i class="fa-solid fa-exclamation"></i>';break;case"info":o='<i class="fa-solid fa-question"></i>'}var c=document.createElement("div");c.setAttribute("class","toast ".concat(i," js-toastify")),c.innerHTML='\n      <div class="toast-icon">\n        '.concat(o,'\n      </div>\n      <div class="toast-message">\n        ').concat(e,'\n      </div>\n      <div class="toast-close">\n        <i class="fa-solid fa-xmark"></i>\n      </div>\n    ');var s=document.querySelectorAll(".js-toastify"),u=this.verticalOffset;s.length>0&&s.forEach((function(t){u+=a.verticalOffset+t.offsetHeight})),c.setAttribute("style","\n      ".concat(this.horizontalAlign,": ").concat(this.horizontalOffset,"px;\n      ").concat(this.verticalAlign,": ").concat(u,"px;\n    ")),r.appendChild(c);var l=function(){c.style[a.horizontalAlign]="-".concat(c.offsetWidth,"px"),c.style.opacity="0.2",setTimeout((function(){for(var t=c.nextElementSibling;t;){var e=Number(t.style[a.verticalAlign].slice(0,-2));t.style[a.verticalAlign]="".concat(e-c.offsetHeight-a.verticalOffset,"px"),t=t.nextElementSibling}r.removeChild(c)}),200)},d=setTimeout((function(){l()}),1e3*n);c.querySelector(".toast-close").addEventListener("click",(function(){clearTimeout(d),l()}))},h([o],t.prototype,"verticalAlign",void 0),h([o],t.prototype,"verticalOffset",void 0),h([o],t.prototype,"horizontalAlign",void 0),h([o],t.prototype,"horizontalOffset",void 0),h([a],t.prototype,"createToast",null),h([n("Toast Creator")],t)}(),y=function(t,e,n,o){var a,r=arguments.length,i=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(i=(r<3?a(i):r>3?a(e,n,i):a(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},v=function(){function t(t,e,n,o){this.tableContainer=t,this.addTableButtonEvent=e,this.tableColumnList=n,this.widthUnit=o}return t.prototype.convertData=function(t){var e=this;this.tableContainer.innerHTML="";var n=function(){var t=document.createElement("tr");e.tableColumnList.forEach((function(n){var o=document.createElement("th");o.style.width=n.width+e.widthUnit,o.innerHTML=n.name,t.appendChild(o)}));var n=document.createElement("thead");return n.appendChild(t),n}(),o=function(){var n=document.createElement("tbody"),o=t.length;if(0===o){var a=document.createElement("tr"),r=document.createElement("td"),i=0;e.tableColumnList.forEach((function(t){i+=t.width})),r.style.width=i+e.widthUnit,r.style.textAlign="center",r.innerHTML="NO DATA MATCHES THE FILTER CONDITION ~",a.appendChild(r),n.appendChild(a)}else o>0&&(t.forEach((function(t){e.tableColumnList.forEach((function(e){if(void 0!==e.formatFunction&&1===e.formatPrameterKeyList.length){var n=e.formatPrameterKeyList[0],o=e.formatFunction(t[n]);t[e.key]=o}else if(void 0!==e.formatFunction&&e.formatPrameterKeyList.length>1){var a=[];e.formatPrameterKeyList.forEach((function(e){a.push(t[e])})),t[e.key]=e.formatFunction(a)}}))})),t.forEach((function(t){var o=document.createElement("tr");e.tableColumnList.forEach((function(n){var a=document.createElement("td");a.style.width=n.width+e.widthUnit,a.innerHTML=t[n.key],o.appendChild(a)})),n.appendChild(o)})));return n}();this.tableContainer.appendChild(n),this.tableContainer.appendChild(o),null!==this.addTableButtonEvent&&this.addTableButtonEvent()},y([o],t.prototype,"tableContainer",void 0),y([o],t.prototype,"addTableButtonEvent",void 0),y([o],t.prototype,"tableColumnList",void 0),y([o],t.prototype,"widthUnit",void 0),y([a],t.prototype,"convertData",null),y([n("Table Creator")],t)}(),g=function(t,e,n,o){var a,r=arguments.length,i=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(i=(r<3?a(i):r>3?a(e,n,i):a(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},b=function(){function t(t,e){this.locales=t,this.currency=e}return t.prototype.formatCurrency=function(t){return t.toLocaleString(this.locales,{style:"currency",currency:this.currency})},g([o],t.prototype,"locales",void 0),g([o],t.prototype,"currency",void 0),g([a],t.prototype,"formatCurrency",null),g([n("Currency Formatter")],t)}(),E=(function(){function t(t,e){this.locales=t,this.options=e}t.prototype.formatDate=function(t){return new Date(t).toLocaleDateString(this.locales,{year:this.options.year,month:this.options.month,day:this.options.day})},g([o],t.prototype,"locales",void 0),g([o],t.prototype,"options",void 0),g([a],t.prototype,"formatDate",null),t=g([n("Date Formatter")],t)}(),function(){function t(t){var e;this.classValue=(e="",t.length>0&&(t.forEach((function(t){e+=" ".concat(t)})),e.slice(0,1)),e)}return t.prototype.formatImage=function(t,e){return'<img class="'.concat(this.classValue,'" ')+'src="'.concat(t,'" alt="').concat(e,'">')},g([o],t.prototype,"classValue",void 0),g([a],t.prototype,"formatImage",null),g([n("Image Formatter")],t)}()),L=(function(){function t(t,e,n){var o;this.linkPrefix=t,this.icon=n,this.classValue=(o="",e.length>0&&(e.forEach((function(t){o+=" ".concat(t)})),o.slice(0,1)),o)}t.prototype.formatLink=function(t){return'<a class="'.concat(this.classValue,'" href="').concat(this.linkPrefix+t,'"> ').concat(this.icon,"</a>")},g([o],t.prototype,"linkPrefix",void 0),g([o],t.prototype,"icon",void 0),g([o],t.prototype,"classValue",void 0),g([a],t.prototype,"formatLink",null),t=g([n("Link Formatter")],t)}(),function(){function t(t,e){var n;this.icon=e,this.classValue=(n="",t.length>0&&(t.forEach((function(t){n+=" ".concat(t)})),n.slice(0,1)),n)}t.prototype.formatButton=function(t){void 0===t&&(t=[{key:String(),value:String()}]);var e="";return t.forEach((function(t){e+=" data-".concat(t.key,'="').concat(t.value,'"')})),'<button class="'.concat(this.classValue,'" type="button"').concat(e,"> ").concat(this.icon,"</button>")},g([o],t.prototype,"icon",void 0),g([o],t.prototype,"classValue",void 0),t=g([n("Button Formatter")],t)}(),function(){return L=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},L.apply(this,arguments)}),C=new m("bottom",16,"right",16),T=location.href,S="https://tcm-shop-default-rtdb.firebaseio.com/orders/",O=T.substring(T.lastIndexOf("/")+1),D={form:document.querySelector("#updateOrderForm"),orderStatus:document.querySelector("#orderStatus"),orderDate:document.querySelector("#orderDate"),orderTotalMoney:document.querySelector("#orderTotalMoney"),customerName:document.querySelector("#customerName"),customerEmail:document.querySelector("#customerEmail"),customerPhone:document.querySelector("#customerPhone"),orderAddress:document.querySelector("#orderAddress"),orderNote:document.querySelector("#orderNote"),submitButton:document.querySelector("#js-update-data-submit")};!function(t){t.ORDER_SUCCESS="Order Success",t.DELIVERING="Delivering",t.COMPLETED="Completed",t.CANCELED="Canceled"}(e||(e={}));window.addEventListener("load",(function(){new l(S+O).readData((function(t){var n,o,a,r,c,s,u,f,h,m,y,g,T;D.orderDate.value=t.OrderDate,D.orderTotalMoney.value=String(t.OrderTotalMoney),D.customerName.value=t.CustomerName,D.customerEmail.value=t.CustomerEmail,D.customerPhone.value=t.CustomerPhoneNumber,D.orderAddress.value=t.OrderAddress,D.orderNote.value=t.OrderNote?t.OrderNote:"None",n=t.OrderStatus,a=(o=D.orderStatus).querySelector(".custom-select-list"),r=o.querySelector(".custom-select-text"),c=document.querySelector("[for=orderStatus]"),(s=new i(o,"active",a,["value","style"])).createLabelPointer(c),[{value:e.ORDER_SUCCESS,style:"color: var(--text-primary); font-weight: 600;"},{value:e.DELIVERING,style:"color: var(--text-warning); font-weight: 600;"},{value:e.COMPLETED,style:"color: var(--text-success); font-weight: 600;"},{value:e.CANCELED,style:"color: var(--text-danger); font-weight: 600;"}].forEach((function(t){s.addOptionItem(t.value,[{key:"value",data:t.value},{key:"style",data:t.style}])})),s.createCustomSelect(n,r,"choosen"),function(t,n){var o,a=new p(D.submitButton,"d-none","is-invalid","is-valid");o=new d(S),a.createSubmitButtonEvent((function(){if(D.orderStatus.getAttribute("value")===t)C.createToast("warning","Please change at least one field before updating",2);else{var a='"'.concat(D.orderStatus.getAttribute("value"),'"'),r="".concat(O,"/").concat("OrderStatus");o.updateData(r,a,(function(){C.createToast("success","Update order completed \n New order status: ".concat(D.orderStatus.getAttribute("value")),2);var o,a=t;t=D.orderStatus.getAttribute("value");var r,i=function(){clearTimeout(o),o=setTimeout((function(){C.createToast("success","Update overide products quantity completed",2)}),100)},c=function(){clearTimeout(o),o=setTimeout((function(){C.createToast("danger","Update overide products quantity failed",2)}),100)},s=function(){clearTimeout(r),r=setTimeout((function(){C.createToast("success","Update overide products sold quantity completed",2)}),100)},u=function(){clearTimeout(r),r=setTimeout((function(){C.createToast("danger","Update overide products sold quantity failed",2)}),100)};!function(t,n,o){if(t===e.CANCELED||n===e.CANCELED){var a=new l("https://tcm-shop-default-rtdb.firebaseio.com/products"),r=new d("https://tcm-shop-default-rtdb.firebaseio.com/products/");a.readData((function(n){Object.keys(n).map((function(a){Object.keys(o).map((function(l){a===o[l].ProductId&&function(n,o,a,l){var d="".concat(n,"/").concat("ProductQuantity"),f=t===e.CANCELED?o-l:o+l;r.updateData(d,f,i,c);var p="".concat(n,"/").concat("ProductSoldQuantity"),h=t===e.CANCELED?a+l:a-l;r.updateData(p,h,s,u)}(a,n[a].ProductQuantity,n[a].ProductSoldQuantity,o[l].ProductQuantity)}))}))}))}}(a,t,n)}),(function(){C.createToast("danger","Update order status failed",2)}))}}),!1)}(t.OrderStatus,t.OrderDetails),u=t.OrderDetails,h=document.querySelector("#js-data-table"),m=new E([]),y=new b("en-US","USD"),g=new v(h,null,[{name:"Name",key:"ProductName",width:20},{name:"Image",key:"ProductImage",width:6,formatFunction:function(t){var e=t[0],n=void 0===e?String():e,o=t[1],a=void 0===o?String():o;return m.formatImage(n,a)},formatPrameterKeyList:["ProductImage","ProductName"]},{name:"Price",key:"ProductPrice",width:6,formatFunction:function(t){return y.formatCurrency(t)},formatPrameterKeyList:["ProductPrice"]},{name:"Quantity",key:"ProductQuantity",width:6}],"rem"),T=[],Object.keys(u).map((function(t){var e=u[t].ProductId,n="https://tcm-shop-default-rtdb.firebaseio.com/products/".concat(e);new l(n).readData((function(e){T.push(L(L({},e),{ProductQuantity:u[t].ProductQuantity})),clearTimeout(f),f=setTimeout((function(){g.convertData(T)}),300)}))}))}))}))})();