<!DOCTYPE html>
<html lang="en">

<head>
  <%- include('../module/website-info.ejs') %>
  <%- include('../module/general-link.ejs') %>
</head>

<body>
  <%- include('../module/aside.ejs') %>

  <main class="main bg-light">
    <%- include('../module/header.ejs') %>

    <div class="container p-4">
      <%- include('../module/filter-form.ejs') %>

      <section class="col-12 bg-white rounded-1 p-1 mt-4">
        <table class="table table-striped table-hover table-borderless mb-0">
          <%- include('../module/table-header.ejs') %>
          <tbody class="js-table-body">
            <tr>
              <td scope="row">1</td>
              <td>Mark</td>
              <td>Otto</td>
              <td>
                <button class="btn btn-danger">
                  <i class="far fa-trash-alt"></i>
                </button>
                <button class="btn btn-warning text-light">
                  <i class="far fa-file-alt"></i>
                </button>
              </td>
            </tr>
            <tr>
              <td scope="row">2</td>
              <td>Jacob</td>
              <td>Thornton</td>
              <td>@fat</td>
            </tr>
            <tr>
              <td scope="row">2</td>
              <td>Jacob</td>
              <td>Thornton</td>
              <td>@fat</td>
            </tr>
            <tr>
              <td scope="row">2</td>
              <td>Jacob</td>
              <td>Thornton</td>
              <td>@fat</td>
            </tr>
            <tr>
              <td scope="row">2</td>
              <td>Jacob</td>
              <td>Thornton</td>
              <td>@fat</td>
            </tr>
          </tbody>
        </table>
      </section>

      <%- include('../module/pagination.ejs') %>
    </div>
  </main>

  <script>
    fetch('http://localhost:3000/category')
      .then(function (res) {
        console.log(res);

        if (!res.ok) {
          throw new Error('Error = ' + res.status);
        };
        return res.json();
      })
      .then(function (data) {
        console.log(data);

        let container = document.querySelector('js-table-body');

        data.forEach(row => {
          let tr = document.createElement('tr');
          columnList.forEach(column => {
            let td = document.createElement('td');
            td.innerText = row[column.key];

            tr.appendChild ###
          });
        });
      })
      .catch(function (err) {
        console.log('Error: ', err);
      })
  </script>
</body>

</html>