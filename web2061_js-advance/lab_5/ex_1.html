<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>1 handling callback hell</title>
</head>

<body>
  <script>
    function ToDoList() {
      this.wakeUp = function (nextTask = Function()) {
        console.log('Step 1: Woke up!');
        nextTask();
      };

      this.brushTeeth = function (nextTask = Function()) {
        console.log('Step 2: Brushing teeth');
        setTimeout(function () {
          console.log('Done brushing!');
          nextTask();
        }, 2000);
      };

      this.changeClothes = function (nextTask = Function()) {
        console.log('Step 3: Changing clothes');
        setTimeout(function () {
          console.log('Done changing clothes!');
          nextTask();
        }, 3000);
      };

      this.goToSchool = function (nextTask = Function()) {
        nextTask();
      };
    };

    let myToDoList = new ToDoList();

    let moveToSchool = function () {
      console.log('Step 4: Moving...');
      setTimeout(function () {
        console.log('Went to school!');
      }, 4000);
    };

    let myTask = function () {
      myToDoList.wakeUp(mySecondTask);
    };
    let mySecondTask = function () {
      myToDoList.brushTeeth(myThirdTask);
    };
    let myThirdTask = function () {
      myToDoList.changeClothes(myFinalTask);
    };
    let myFinalTask = function () {
      myToDoList.goToSchool(moveToSchool);
    };
    myTask();
  </script>
</body>

</html>