<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>4 Luyện tập phương thức built-in xử lý mảng</title>
  <style>
    .user_item {
      color: green;
      text-decoration: underline;
      cursor: pointer;
    }
  </style>
</head>

<body>
  <div class="form">
    <div>
      <label>ID</label>
      <input type="number" id="addUserID">
    </div>
    <div>
      <label>Name</label>
      <input type="text" id="addUserText">
    </div>
    <div>
      <label>Gender</label>
      <select id="addUserGender">
        <option value="1">male</option>
        <option value="2">female</option>
      </select>
    </div>
    <div>
      <button type="button" id="addAction">
        Add
      </button>
    </div>
  </div>
  <ul id="target"></ul>

  <script>
    let users = [{
      id: 1,
      name: 'James Smith',
      gender: 1
    },
    {
      id: 2,
      name: 'Isla Brown',
      gender: 2
    },
    {
      id: 3,
      name: 'Amelia Davies',
      gender: 2
    },
    {
      id: 4,
      name: 'Jacob Evans',
      gender: 1
    }
    ];
    const target = document.querySelector('#target');

    let userItem, gender;
    users.forEach(user => {
      userItem = document.createElement('li');
      userItem.classList.add('user_item');

      if (user.gender === 1) {
        gender = 'male';

      } else {
        gender = 'female';
      }

      userItem.innerText = `${user.id} - ${user.name} - ${gender}`;

      target.appendChild(userItem);
    });

    const userIdInput = document.querySelector('#addUserID');
    const userNameInput = document.querySelector('#addUserText');
    const userGenderInput = document.querySelector('#addUserGender');

    const addBtn = document.querySelector('#addAction');
    addBtn.onclick = function () {
      userItem = document.createElement('li');
      userItem.classList.add('user_item');

      if (userGenderInput.value === 1) {
        gender = 'male';

      } else {
        gender = 'female';
      }

      userItem.innerText = `${userIdInput.value} - ${userNameInput.value} - ${gender}`;

      target.appendChild(userItem);

      users.push({
        id: parseInt(userIdInput.value),
        name: userNameInput.value,
        gender: parseInt(userGenderInput.value)
      });
    }

  </script>
</body>

</html>