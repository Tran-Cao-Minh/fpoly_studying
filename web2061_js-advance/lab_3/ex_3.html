<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>3 create an object by Object constructor method</title>
</head>

<body>
  <div>
    <label>Subject Name</label>
    <input type="text" id="subjectName">
  </div>
  <div>
    <label>Teacher</label>
    <input type="text" id="subjectTeacher">
  </div>
  <div>
    <label>Point</label>
    <input type="number" id="subjectScore">
  </div>
  <div>
    <label>Year</label>
    <input type="number" id="subjectYear">
  </div>
  <input type="button" value="Add" id="addSubject">

  <p id="studentName"></p>
  <p id="studentAge"></p>
  <p id="studentAddress"></p>
  <p id="studentPhone"></p>
  <p id="studentBirthday"></p>
  <p id="studentSchool"></p>

  <p>Subjects:</p>
  <ul id="subjects"></ul>

  <script>
    function Student(
      name,
      age,
      address,
      phone,
      birthday,
      subjects,
    ) {
      this.name = name;
      this.age = age;
      this.address = address;
      this.phone = phone;
      this.birthday = birthday;
      this.subjects = subjects;
    };

    function StudentFpoly(
      name,
      age,
      address,
      phone,
      birthday,
      subjects,
    ) {
      Student.call(
        this,
        name,
        age,
        address,
        phone,
        birthday,
        subjects,
      );

      this.school = 'FPT Polytechnic';
    };

    let student = new StudentFpoly(
      'Tran Cao Minh',
      19,
      'Dong Nai',
      '0330300303',
      '14/08/2002',
      [
        {
          name: 'Javascript',
          teacher: 'Tran Cong Mua',
          point: 10,
          year: 2022,
        }
      ]
    );

    document.getElementById('studentName').innerHTML = student.name;
    document.getElementById('studentAge').innerHTML = student.age;
    document.getElementById('studentAddress').innerHTML = student.address;
    document.getElementById('studentPhone').innerHTML = student.phone;
    document.getElementById('studentBirthday').innerHTML = student.birthday;
    document.getElementById('studentSchool').innerHTML = student.school;

    const subjectsContainer = document.getElementById('subjects');

    function showSubjects() {
      subjectsContainer.innerHTML = '';

      student.subjects.forEach(subject => {
        let subjectItem = document.createElement('li');
        subjectItem.innerHTML =
          `${subject.name} - ${subject.teacher} - ${subject.point} - ${subject.year}`;

        subjectsContainer.appendChild(subjectItem);
      });
    }
    showSubjects();

    const subjectInput = document.getElementById('subjectName');
    const teacherInput = document.getElementById('subjectTeacher');
    const pointInput = document.getElementById('subjectScore');
    const yearInput = document.getElementById('subjectYear');
    const addBtn = document.getElementById('addSubject');

    addBtn.addEventListener('click', function () {
      let subject = {
        name: subjectInput.value,
        teacher: teacherInput.value,
        point: pointInput.value,
        year: yearInput.value,
      };

      student.subjects.push(subject);
      showSubjects();
    })
  </script>
</body>

</html>